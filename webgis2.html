<!DOCTYPE html>
<html>
	<head>
		<title>Build my first application</title>
		 <meta http-equiv="Content-Type" content="text/html; charset=utf-8">
         <meta name="viewport" content="initial-scale=1, maximum-scale=1, user-scalable=no">
         <link rel="stylesheet" href="https://js.arcgis.com/3.23/esri/css/esri.css">
         <script src="https://js.arcgis.com/3.23/"></script>
	</head>
         <script>
           
		   
		   
		   var map;
		   function refresh()
		   {
			
		   
			var obj = document.getElementById("selectstyle"); //定位id
            var index = obj.selectedIndex; // 选中索引
            var mybasemap = obj.options[index].text; // 选中文本	 
		   
		   
		    var lon=document.getElementById("txtlon").value;  
            var lat=document.getElementById("txtlat").value; 
		    var zoo=document.getElementById("txtzoom").value; 
		   require(["esri/map", 
			"dojo/domReady!"
			],
             function(Map) 
	                  {
		                  map = new Map("map", 
		                 {
			              basemap: mybasemap,
			              center: [lon, lat],
			              zoom: zoo
		                 });
	                 });
					 }
		  
             
             			 
			function refresh2()
			{
                var obj = document.getElementById("selectstyle"); //定位id
                var index = obj.selectedIndex; // 选中索引
                var mybasemap = obj.options[index].text; // 选中文本	 


                var lon=document.getElementById("txtlon").value;  
                var lat=document.getElementById("txtlat").value; 
                var zoo=document.getElementById("txtzoom").value; 
                
                map.setBasemap(mybasemap);
			     map.centerAndZoom([lon,lat],zoo); 
                
            }
             
             
         </script>
		
		<style>
            html, body, 
			#map {
                      height: 100%;
                      padding: 0;
                      margin: 0;
					  
      }
	   #optionsDiv {
      position: absolute;
     top: 10px;
      width: 100%;
      padding: 7px 0;
      z-index: 1;
      text-align: center;}
</style>
	
	<body class="claro">
        
		 
		 <div id="map">
			 <div id="optionsDiv">
		    <input type="text" id="txtlon"  placeholder="经度"/> 
		    <input type="text" id="txtlat"  placeholder="纬度"/> 
			
			<input type="text" id="txtzoom"  placeholder="级别"/> 
				
			底图：<select id="selectstyle">
					<option value="0">dark-gray</option>
					<option value="1">dark-gray-vector</option>
					<option value="2">gray</option>
					<option value="3">gray-vector</option>
					<option value="4">hybrid</option>
					<option value="5">national-geographic</option>
					<option value="6">oceans</option>
					<option value="7">osm</option>
					<option value="8">satellite</option>
					<option value="9">streets</option>
					<option value="10">streets-navigation-vector</option>
					<option value="11">streets-night-vector</option>
					<option value="12">streets-relief-vector</option>
					<option value="13">streets-vector</option>
					<option value="14">terrain</option>
					<option value="15">topo</option>
					<option value="16">topo-vector</option>
					
			</select> 
                 <input type="button" id="bnrefresh" value="加载" onclick="refresh()"/> 
                 <input type="button" id="bnrefresh2" value="刷新" onclick="refresh2()"/>
				 
		  </div>
		 
		 </div>
    </body>
    
</html>
